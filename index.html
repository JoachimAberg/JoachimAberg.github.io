<head>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
</head>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

<div id="app">
    <main class="container">
        <h1>Hallå</h1>
        <div>Här var det tomt</div>
    </main>
</div>


<script>
    const { createApp } = Vue

    createApp({
        data() {
            return {
                antal: 10000,
                res: [],
                snitt: null,
                kvot: null,
                loading:""
            }
        },
        methods: {
            rulla() {
                this.res = [];
                this.kvot = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
                nextTick(() => {
                    this.loading = "true"
                    // access updated DOM
                })
                

                for (let i = 0; i < this.antal; i++) {
                    let arr = [Math.floor(Math.random() * 6) + 1, Math.floor(Math.random() * 6) + 1, Math.floor(Math.random() * 6) + 1, Math.floor(Math.random() * 6) + 1];
                    let val = arr.sort().slice(1).reduce((p, c) => p + c);
                    this.kvot[val-3]=this.kvot[val-3]+1;
                    this.res.push(val);
                }
                this.snitt = this.res.reduce((p, c) => p + c) / this.res.length;
                this.kvot = this.kvot.map(i=> i * 100 / this.antal +"%");
                this.loading = ""

            }

        }

    }).mount('#app')


</script>